<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>The HTML5 Herald</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="author" content="SitePoint">
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <div id="sidebar">
        <h1>Adventure Finder</h1>
        <input type="text" placeholder="Filter trips" />
        <hr>
        <h2>Fun Places</h2>
        <ul>
            <li>Marker1</li>
            <li>Marker2</li>
            <li>Marker3</li>
            <li>Marker4</li>
            <li>Marker5</li>
        </ul>
    </div>
    <div id="map">
    </div>
    <script>
    var map;

    // Create a new blank array for all the listing markers.
    var markers = [];

    function initMap() {
        // Constructor creates a new map - only center and zoom are required.
        map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: 41.259452, lng: -111.029643 },
            zoom: 13
        });

        var locations = [
            { title: 'Glacier National Park, MT', location: { lat: 48.487887, lng: -113.865602 } },
            { title: 'Banff National Park, Canada', location: { lat: 51.252302, lng: -115.740994 } },
            { title: 'Zion National Park, UT', location: { lat: 37.245945, lng: -113.020244 } },
            { title: 'Bryce Canyon National Park, UT', location: { lat: 37.582595, lng: -112.191246 } },
            { title: 'Monument Valley, UT', location: { lat: 36.994720, lng: -110.174721 } },
            { title: 'Antelope Canyon, AZ', location: { lat: 36.875831, lng: -111.357371 } },
            { title: 'Canyonlands National Park, UT', location: { lat: 38.265049, lng: -109.853543 } },
            { title: 'White Sands National Monument, NM', location: { lat: 32.785968, lng: -106.325778 } },
            { title: 'Ridgway, CO', location: { lat: 38.154131, lng: -107.752080 } },
            { title: 'Telluride, CO', location: { lat: 37.943421, lng: -107.829925 } },
            { title: 'Lake Powell, AZ', location: { lat: 37.023119, lng: -111.573326 } },
            { title: 'Albuquerque, NM', location: { lat: 35.111960, lng: -106.617279 } },
            { title: 'Maroon Bells, CO', location: { lat: 39.068130, lng: -106.989091 } },
            { title: 'Aspen, CO', location: { lat: 39.190753, lng: -106.831407 } }
        ];

        var largeInfowindow = new google.maps.InfoWindow();
        var bounds = new google.maps.LatLngBounds();

        // The following group uses the location array to create an array of markers on initialize.
        for (var i = 0; i < locations.length; i++) {
            // Get the position from the location array.
            var position = locations[i].location;
            var title = locations[i].title;
            // Create a marker per location, and put into markers array.
            var marker = new google.maps.Marker({
                map: map,
                position: position,
                title: title,
                animation: google.maps.Animation.DROP,
                id: i
            });
            // Push the marker to our array of markers.
            markers.push(marker);
            // Create an onclick event to open an infowindow at each marker.
            marker.addListener('click', function() {
                populateInfoWindow(this, largeInfowindow);
            });
            bounds.extend(markers[i].position);
        }
        // Extend the boundaries of the map for each marker
        map.fitBounds(bounds);
    }

    // This function populates the infowindow when the marker is clicked. We'll only allow
    // one infowindow which will open at the marker that is clicked, and populate based
    // on that markers position.
    function populateInfoWindow(marker, infowindow) {
        // Check to make sure the infowindow is not already opened on this marker.
        if (infowindow.marker != marker) {
            infowindow.marker = marker;
            infowindow.setContent('<div>' + marker.title + '</div>');
            infowindow.open(map, marker);
            // Make sure the marker property is cleared if the infowindow is closed.
            infowindow.addListener('closeclick', function() {
                infowindow.setMarker = null;
            });
        }
    }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyACWMB_JIajzui95zCOQCMz5d0WYpjh0X4&v=3&callback=initMap">
    </script>
</body>

</html>